(function(t){function e(e){for(var o,a,c=e[0],s=e[1],l=e[2],u=0,h=[];u<c.length;u++)a=c[u],i[a]&&h.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);p&&p(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},i={app:0},r=[];function a(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"32b639b0"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,o){n=i[t]=[e,o]});e.push(n[2]=o);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=a(t),r=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");a.type=o,a.request=r,n[1](a)}i[t]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:s})},12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var p=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("1356"),i=n.n(o);i.a},1356:function(t,e,n){},"3a19":function(t,e,n){"use strict";var o=n("b633"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=n("bb71");n("da64"),n("5363");o["a"].use(i["a"],{iconfont:"mdi",theme:{primary:"#46a0f5",accent:"#525252"}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("notification",{ref:"notification",attrs:{text:t.notificationText,color:t.notificationColor}}),n("stylizer",{ref:"stylizer"}),n("v-content",{style:t.getContentStyle()},[n("router-view")],1)],1)},a=[],c=(n("a481"),n("4917"),n("3b2b"),n("f499")),s=n.n(c),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-3"},[t.isMounted?n("inputout",{ref:"input"}):t._e(),n("filetree")],1)},u=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pl-1",attrs:{id:"tree"}},[n("v-text-field",{staticClass:"pa-3",attrs:{"prepend-inner-icon":"search",label:"Search",dark:"",flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-close-circle-outline"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("v-divider",{staticClass:"pb-2"}),n("v-treeview",{attrs:{id:"treemenu",open:t.open,active:t.active,"active-class":"tree-active",items:t.items,activatable:"","item-key":"path","item-text":"name","open-on-click":"",search:t.search,filter:t.filter},on:{"update:open":function(e){t.open=e},"update:active":function(e){t.active=e}},scopedSlots:t._u([{key:"prepend",fn:function(e){var o=e.item,i=e.open;return[o.ext?n("v-icon",{attrs:{color:o.path==t.doc.path?"amber lighten-3":""}},[t._v("\n                "+t._s(t.supportedExts.includes(o.ext)?t.extIcons[o.ext]:t.extIcons.unknown)+"\n            ")]):n("v-icon",{class:o.children.length?"pl-2":"",attrs:{color:t.hasDocDescendent(o)?"amber lighten-3":""}},[t._v("\n                "+t._s(o.children.length?i?"mdi-folder-open":"mdi-folder":"mdi-folder-outline")+"\n            ")])]}},{key:"label",fn:function(e){var o=e.item;e.open;return[n("div",{class:t.hasDocDescendent(o)?"amber--text text--lighten-3":o.path==t.doc.path?"amber--text text--lighten-3":"",staticStyle:{cursor:"pointer"}},[t._v("\n                "+t._s(o.name)+"\n            ")])]}},{key:"append",fn:function(e){var o=e.item,i=e.open;return[n("div",{staticClass:"pr-4",on:{mouseenter:function(t){o.hover=!0},mouseleave:function(t){o.hover=!1}}},[o.children&&i?n("div",t._l(t.getActions(o),function(e){return n("v-tooltip",{key:o.path+e.name,attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:o.children&&i,expression:"item.children && open"}],attrs:{icon:""},on:{click:[function(t){t.stopPropagation()},function(n){return t.doAction(o,e)}]}},a),[n("v-icon",{attrs:{color:t.hasDocDescendent(o)?"amber lighten-3":""}},[t._v("\n                                    "+t._s(e.icon)+"\n                                ")])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.tooltip))])])}),1):t._e(),t._l(t.getActions(o),function(e){return n("v-tooltip",{key:o.path+e.name,attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on;return[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:!o.children,expression:"!item.children"}],attrs:{icon:""},on:{click:[function(t){t.stopPropagation()},function(n){return t.doAction(o,e)}]}},r),[n("v-icon",{attrs:{color:o.path==t.doc.path?"amber lighten-3":""}},[t._v("\n                                "+t._s(e.icon)+"\n                            ")])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.tooltip))])])})],2)]}}]),model:{value:t.tree,callback:function(e){t.tree=e},expression:"tree"}}),n("v-divider",{staticClass:"my-2"})],1)},h=[],d=(n("6b54"),n("386d"),n("28a5"),n("7f7f"),n("7514"),n("ac6a"),n("6762"),n("2fdb"),{name:"filetree",data:function(){return{valid:!1,open:[],lastOpen:[],active:[],timers:[],itemLength:0,dirLength:0,doc:{path:null,name:null,parent:null},caseSensitive:!1,fsError:["NO_ERROR","ERR_UNKNOWN","ERR_INVALID_PARAMS","ERR_NOT_FOUND","ERR_CANT_READ","ERR_UNSUPPORTED_ENCODING","ERR_CANT_WRITE","ERR_OUT_OF_SPACE","ERR_NOT_FILE","ERR_NOT_DIRECTORY","ERR_FILE_EXISTS"],ignores:[".git","Adobe After Effects Auto-Save","Adobe Premiere Pro Auto-Save","AnnoPreview_AME","node_modules"],search:null,rx:{fileExt:/\.[\w]*$/,lastFolder:/\/[^\/]*(\/)?$/},supportedExts:["html","js","jsx","gitignore","ai","ico","gif","psd","aep","prproj","json","babelrc","eslintignore","editorconfig","css","md","pdf","png","txt","xls","pkf","wav","mp3","ssml","vue","xml","debug","nojekyll","ts","sesx","npmignore","browserslistrc","yml","svg"],extIcons:{unknown:"mdi-file-question",html:"mdi-language-html5",jsx:"mdi-nodejs",js:"mdi-nodejs",svg:"mdi-svg",gitignore:"mdi-file-cancel",debug:"mdi-file-search",ai:"mdi-file-image",ico:"mdi-file-image",gif:"mdi-file-video",psd:"mdi-file-image",aep:"mdi-file-video",prproj:"mdi-file-video",json:"mdi-json",babelrc:"mdi-nodejs",eslintignore:"mdi-nodejs",editorconfig:"mdi-nodejs",css:"mdi-language-css3",md:"mdi-markdown",xml:"mdi-json",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",xls:"mdi-file-excel",pkf:"mdi-file-music",wav:"mdi-file-music",mp3:"mdi-file-music",vue:"mdi-vuejs",nojekyll:"mdi-file-nodejs",ts:"mdi-language-typescript",sesx:"mdi-file-music",ssml:"mdi-file-music",npmignore:"mdi-file-cancel",browserslistrc:"mdi-web",yml:"mdi-web"},tree:[],items:[],branches:[],penList:[],isSearching:!1}},watch:{search:function(t){t=t||"",console.log(t.length),t.length?this.isSearching||(this.isSearching=!0,this.lastOpen=JSON.parse(s()(this.open)),console.log(this.lastOpen),console.log(this.open),console.log("Opening all items and assigning"),this.openAllItems(),console.log(this.lastOpen),console.log(this.open)):this.isSearching&&(this.isSearching=!1,this.revertOpenItems(),this.open.length||this.open.push(this.items[0].path),console.log(this.lastOpen),console.log(this.open))},valid:function(t){if(t){this.readDir(this.app.input.realoutput);var e=window.cep.fs.writeFile("".concat(this.app.root,"/public/logdata.json"),s()(this.items));e.err||console.log("Log written succesfully")}},open:function(t){console.log(t)},active:function(t){console.log(t)}},computed:{app:function(){return this.$root.$children[0]},filter:function(){return this.caseSensitive?function(t,e,n){return t[n].indexOf(e)>-1}:void 0},autobranches:function(){return document.querySelectorAll(".v-treeview-node")}},mounted:function(){this.app.treemenu=this,"ILST"==this.app.appName?(this.callDoc(),this.app.csInterface.addEventListener("documentAfterActivate",this.callDoc)):"AEFT"==this.app.appName&&this.callComp(),this.items.length&&console.log("Start sync")},methods:{openChildFolders:function(t){var e=this;t.children&&t.children.length&&(this.open.includes(t.path)||this.open.push(t.path),t.children.forEach(function(t){t.children&&t.children.length&&e.openChildFolders(t)}))},openAllItems:function(){var t=this;this.items.forEach(function(e){t.open.includes(e.path)||t.open.push(e.path),t.openChildFolders(e)})},revertOpenItems:function(){var t=this;if(console.log("Reverting open"),this.open.length)while(this.open.length)this.open.pop();this.lastOpen.length&&this.lastOpen.forEach(function(e){t.open.push(e)})},hasDocDescendent:function(t){var e=this;if(t.children&&t.children.length){var n=t.children.find(function(t){return t.path==e.doc.path});if(n)return!0;t.children.forEach(function(t){if(t.children&&t.children.length){var n=t.children.find(function(t){return t.path==e.doc.path});if(n)return!0}})}},callComp:function(){console.log("Calling comp"),this.app.csInterface.evalScript("getComp()",this.getComp)},getComp:function(t){this.app.macOS||/^\/c\//.test(t)&&(t=t.replace(/^\/c\//,"C:/")),this.doc.path=t},callDoc:function(){console.log("Calling doc"),this.app.csInterface.evalScript("thisDoc()",this.getDoc)},getDoc:function(t){this.app.macOS||/^\/c\//.test(t)&&(t=t.replace(/^\/c\//,"C:/")),this.doc.path=t},doAction:function(t,e){if(console.log("Doing ".concat(e.name," on ").concat(t.path)),"ILST"==this.app.appName)if("addText"==e.name){var n=window.cep.fs.readFile(t.path);if(!n.err){var o=[];console.log(n),/(\r\n|\r|\n)/gm.test(n.data)?(n.data=n.data.split(/(\r\n|\r|\n)/),n.data.forEach(function(t){t.length>2&&o.push(t)}),this.app.csInterface.evalScript("".concat(e.name,"('").concat(o,"')"))):this.app.csInterface.evalScript("".concat(e.name,"('").concat(n.data,"')"))}}else if("addSVG"==e.name){var i=t.name.replace(/\.[\w]*/,"");this.app.csInterface.evalScript("".concat(e.name,"('").concat(t.path,"', '").concat(i,"')"))}else if("quickExportSVG"==e.name){t.name.replace(/\.[\w]*/,"");var r=t.path;this.app.macOS?/\/$/.test(r)||(r+="/"):/\\$/.test(r)||(r+="/"),console.log(r),this.app.csInterface.evalScript("".concat(e.name,"('").concat(r,"')"))}else this.app.csInterface.evalScript("".concat(e.name,"('").concat(t.path,"')"));else"AEFT"==this.app.appName&&(console.log("Doing ".concat(e.name," on ").concat(t.path)),this.app.csInterface.evalScript("".concat(e.name,"('").concat(t.path,"')")))},getActions:function(t){var e=[];return"ILST"==this.app.appName?t.path==this.doc.path?e.push({icon:"save",name:"exporter",tooltip:"Quick export this file"}):(t.children&&!this.search?(e.push({icon:"save_alt",name:"quickExportSVG",tooltip:"Export SVG to this folder"}),this.hasDocDescendent(t)||e.push({icon:"save",name:"quickSave",tooltip:"Quicksave to this folder"})):"ai"==t.ext&&e.push({icon:"mdi-open-in-app",name:"openDoc",tooltip:"Open document"}),/png|jpg/.test(t.ext)?e.push({icon:"mdi-plus",name:"addImage",tooltip:"Place image into document"}):/svg/.test(t.ext)?e.push({icon:"mdi-plus",name:"addSVG",tooltip:"Add SVG to the document"}):/txt|md/.test(t.ext)&&e.push({icon:"mdi-clipboard-text-play",name:"addText",tooltip:"Place text into document"})):"AEFT"==this.app.appName&&(t.path==this.doc.path&&e.push({icon:"save",name:"exporter",tooltip:"Quick export this file"}),t.children&&!this.search||("mp4"==t.ext?e.push({icon:"mdi-open-in-app",name:"importFile",tooltip:"Add this file to project"}):"aep"==t.ext&&t.path!==this.doc.path&&e.push({icon:"save_alt",name:"importComp",tooltip:"Add this comp to project"}))),"jsx"==t.ext&&e.push({icon:"edit",name:"runScript",tooltip:"Run this script"}),e},getPEN:function(){return this.checkPEN(Math.floor(16777215*Math.random()).toString(16))},checkPEN:function(t){var e=this.penList.find(function(e){return e==t});return e?this.getPEN():(this.penList.push(t),t)},clearAllTimers:function(){this.timers.forEach(function(t){clearInterval(t)}),console.log("Cleared")},checkItemChildren:function(t,e){var n=this;return t.length&&t.forEach(function(t){e++,t.children&&t.children.length&&(e=n.checkItemChildren(t.children,e))}),e},checkItemLength:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.items.forEach(function(n){e++,n.children&&n.children.length&&(e=t.checkItemChildren(n.children,e))}),e},syncDirLength:function(t){var e=this;this.timers.push(setInterval(function(){e.dirLength=e.checkDirLength(1),console.log("".concat(e.dirLength," ?== ").concat(e.itemLength)),e.dirLength!==e.itemLength&&(console.log("Something has changed: dir length is ".concat(e.dirLength," ?== item length is ").concat(e.itemLength)),e.readDir(e.app.input.realoutput),console.log("Root has been reloaded"))},200))},checkDirChildren:function(t,e,n){var o=this;return t&&t.forEach(function(t){o.ignores.includes(t)||(n++,window.cep.fs.readdir(e+t).err?o.rx.fileExt.test(t)||window.cep.fs.readdir("".concat(e,"/").concat(t)).err||(n=o.checkDirChildren(window.cep.fs.readdir("".concat(e,"/").concat(t)).data,"".concat(e,"/").concat(t),n)):n=o.checkDirChildren(window.cep.fs.readdir(e+t).data,e+t,n))}),n},checkDirLength:function(t){var e=this,n=this.app.input.realoutput,o=window.cep.fs.readdir(n);return o.err||o.data.forEach(function(o){e.ignores.includes(o)||(t++,window.cep.fs.readdir(n+o).err?e.rx.fileExt.test(o)||window.cep.fs.readdir("".concat(n,"/").concat(o)).err||(t=e.checkDirChildren(window.cep.fs.readdir("".concat(n,"/").concat(o)).data,"".concat(n,"/").concat(o),t)):t=e.checkDirChildren(window.cep.fs.readdir(n+o).data,n+o,t))}),t},readDir:function(t){console.log("Path to ".concat(t));var e=this,n=this.items.find(function(e){return e.path==t});n?(this.items=this.items.filter(function(t){return t!==n}),console.log("Cleared older version")):console.log("This is brand new");var o=window.cep.fs.readdir(t);o.err||this.items.push({name:t.match(e.rx.lastFolder)[0].split("/").join(""),path:t,children:e.buildTreeForDisplay(o.data,[],t,0,0,0),active:!1,hover:!1,elt:null,index:0,depth:0,pen:this.getPEN()}),this.itemLength=this.checkItemLength(0),this.timers.length||this.syncDirLength(),this.open.length||this.open.push(t)},buildTreeForDisplay:function(t,e,n,o,i,r){var a=this,c=[];return i++,o=0,t.forEach(function(t){if(r++,!a.ignores.includes(t)){var e={name:t,elt:null,uid:"".concat(t,";").concat(i,";").concat(o),path:null,active:!1,hover:!1,pen:a.getPEN(),index:o++,depth:i};if(window.cep.fs.readdir(n+t).err)if(a.rx.fileExt.test(t))e.ext=t.match(a.rx.fileExt)[0].replace(".",""),/\/$/.test(n)?e.path=n+t:e.path="".concat(n,"/").concat(t);else{a.fsError[window.cep.fs.readdir(n+t).err];/\/$/.test(n)||(e.children=a.buildTreeForDisplay(window.cep.fs.readdir("".concat(n,"/").concat(t)).data,c,"".concat(n,"/").concat(t),o,i,r),e.path="".concat(n,"/").concat(t))}else e.children=a.buildTreeForDisplay(window.cep.fs.readdir(n+t).data,c,n+t,o,i,r),e.path=n+t;c.push(e)}}),c}}}),f=d,m=(n("3a19"),n("2877")),g=n("6544"),v=n.n(g),b=n("8336"),x=n("a523"),S=n("ce7e"),w=n("132d"),E=n("2677"),k=n("3a2f"),C=n("eb2a"),y=Object(m["a"])(f,p,h,!1,null,null,null),_=y.exports;v()(y,{VBtn:b["a"],VContainer:x["a"],VDivider:S["a"],VIcon:w["a"],VTextField:E["a"],VTooltip:k["a"],VTreeview:C["a"]});var I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isMounted?n("v-layout",[n("v-flex",{staticClass:"px-3",attrs:{id:"output",xs12:""}},[n("v-text-field",{ref:"output",attrs:{spellcheck:"false","prepend-icon":t.getOutIcon(),label:"Output path",rules:[t.rules.outputlength,t.rules.isfolder,t.rules.hasfolder]},on:{"click:prepend":function(e){return t.getOutputContext()},input:function(e){return t.changeoutput()}},model:{value:t.output,callback:function(e){t.output=e},expression:"output"}})],1)],1):t._e()},O=[],T={name:"inputout",data:function(){return{output:null,isMounted:!1,valid:!1,rules:{isfolder:function(t){var e=/\.\w{2,5}$/;return!e.test(t)||"Must be a directory, not a file"},hasfolder:function(t){var e=/[^\/|\\]$/;e.test(t)&&(t+="/"),navigator.platform.indexOf("Win")>-1&&t&&(t=t.split("\\").join("/"));var n=window.cep.fs.readdir(t);return!n.err||"Folder doesn't exist."},outputlength:function(t){try{return!!t.length||"Absolute path to output is required"}catch(e){return"Absolute path to output is required"}}}}},computed:{app:function(){return this.$root.$children[0]},parent:function(){return this.app.treemenu},realoutput:function(){var t=/[^\/|\\]$/,e=/\/{2,}$/,n=JSON.parse(s()(this.output));return t.test(this.output)&&(n+="/"),!this.macOS&&n&&(n=n.split("\\").join("/")),e.test(n)&&(n=n.replace(e,"/")),n}},mounted:function(){this.app.storage.getItem("output")&&(this.output=this.app.storage.getItem("output")),this.isMounted=!0,this.app.input=this},methods:{getOutputContext:function(){this.parent.valid&&this.addTree()},addTree:function(){console.log("Add new tree")},getOutIcon:function(){if(this.parent)return this.verifyoutput()?(this.parent.valid=!0,"add"):this.output?(this.parent.valid=!1,"clear"):(this.parent.valid=!1,"folder")},verifyoutput:function(){if(this.parent)try{var t=window.cep.fs.readdir(this.realoutput);return t.err?(this.parent.validOut=!1,!1):(this.parent.validOut=!0,!0)}catch(e){return this.parent.validOut=!1,!1}},changeoutput:function(){this.app.storage.setItem("output",this.output)}}},j=T,N=(n("bea3"),n("0e8f")),D=n("a722"),A=Object(m["a"])(j,I,O,!1,null,null,null),R=A.exports;v()(A,{VFlex:N["a"],VLayout:D["a"],VTextField:E["a"]});var L={components:{filetree:_,inputout:R},data:function(){return{isMounted:!1}},mounted:function(){this.isMounted=!0}},$=L,P=Object(m["a"])($,l,u,!1,null,null,null),F=P.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{style:t.noteStyle(),attrs:{top:"",timeout:t.timeout,color:"primary darken-1"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v("\n        "+t._s(t.text)+"\n        "),n("v-btn",{attrs:{block:"",dark:"",flat:""},on:{click:function(e){return t.hide()}}},[n("v-icon",[t._v("close")])],1)],1)},V=[],B={name:"notification",data:function(){return{timeout:2e3,status:!1}},props:{text:String,color:String},computed:{app:function(){return this.$root.$children[0]}},methods:{show:function(){this.status=!0},hide:function(){this.status=!1},noteStyle:function(){return"\n                z-index: 1001;\n\n            "}}},H=B,U=n("2db4"),G=Object(m["a"])(H,M,V,!1,null,null,null),q=G.exports;v()(G,{VBtn:b["a"],VIcon:w["a"],VSnackbar:U["a"]});var z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},W=[],J={name:"stylizer",data:function(){return{theme:null,isMounted:!1}},computed:{app:function(){return this.$root.$children[0]},parent:function(){return this.app.$refs.mainscreen}},mounted:function(){},methods:{init:function(){this.isMounted||(console.log("Stylizer mounted"),this.app.csInterface.addEventListener("com.adobe.csxs.events.ThemeColorChanged",this.appThemeChanged),this.appThemeChanged(),this.isMounted=!0,console.log(this))},appThemeChanged:function(t){var e=JSON.parse(window.__adobe_cep__.getHostEnvironment()).appSkinInfo;this.findTheme(e)},findTheme:function(t){console.log(t),"AEFT"!==this.app.appName?(t.panelBackgroundColor.color.red>230?this.theme="lightest":t.panelBackgroundColor.color.red>170?this.theme="light":t.panelBackgroundColor.color.red>80?this.theme="dark":this.theme="darkest",this.assignTheme()):"AEFT"==this.app.appName&&this.setGradientTheme(t)},assignTheme:function(){this.$root.activeApp;console.log("Assigning theme...")},setGradientTheme:function(t){console.log("Assigning colors to After Effects UI gradient"),this.app.setCSS("color-bg",this.toHex(t.panelBackgroundColor.color),-10),this.app.setCSS("color-dark",this.toHex(t.panelBackgroundColor.color),-15),this.app.setCSS("color-input-idle",this.toHex(t.panelBackgroundColor.color,-12)),this.app.setCSS("color-icon",this.toHex(t.panelBackgroundColor.color,30)),this.app.setCSS("color-button-disabled",this.toHex(t.panelBackgroundColor.color,20)),this.app.setCSS("color-scrollbar",this.toHex(t.panelBackgroundColor.color,-5)),this.app.setCSS("color-scrollbar-thumb",this.toHex(t.panelBackgroundColor.color,18)),this.app.setCSS("color-scrollbar-thumb-hover",this.toHex(t.panelBackgroundColor.color,35)),this.app.setCSS("input-border-radius","5px")},toHex:function(t,e){function n(t,e){var n=isNaN(e)?t:t+e;return n<0?n=0:n>255&&(n=255),n=Math.round(n).toString(16),1==n.length?"0"+n:n}var o="";return t&&(o=n(t.red,e)+n(t.green,e)+n(t.blue,e)),"#"+o}}},Q=J,X=Object(m["a"])(Q,z,W,!1,null,null,null),K=X.exports,Y={name:"App",components:{HelloWorld:F,notification:q,stylizer:K},computed:{storage:function(){return window.localStorage},menuString:function(){return s()(this.context)},localhost:function(){if(this.isLoaded){var t=window.cep.fs.readFile("".concat(this.csInterface.getSystemPath(SystemPath.EXTENSION),"/.debug")),e=new RegExp('\\<Host\\sName\\=\\"'.concat(this.csInterface.hostEnvironment.appName,'\\"\\sPort\\=\\"(\\d*)'));return"http://localhost:".concat(t.data.match(e)[1])}}},data:function(){return{macOS:!1,homepage:"https://github.com/Inventsable/Redwood",csInterface:null,isLoaded:!1,appName:null,root:null,treemenu:null,input:null,rootLocation:null,lastRoute:null,hasNotification:!1,notificationText:"Extension is mounted",notificationColor:"primary",context:{menu:[{id:"refresh",label:"Refresh panel",enabled:!0,checkable:!1,checked:!1},{label:"---"},{id:"localhost",label:"Launch debug",enabled:!0,checkable:!1,checked:!1},{id:"github",label:"View source code",enabled:!0,checkable:!1,checked:!1}]}}},created:function(){this.rootLocation=document.location.href,window.localStorage.getItem("lastRoute")?this.lastRoute=window.localStorage.getItem("lastRoute"):window.localStorage.setItem("lastRoute","home")},mounted:function(){console.clear(),navigator.platform.indexOf("Win")>-1?this.macOS=!1:navigator.platform.indexOf("Mac")>-1&&(this.macOS=!0),this.csInterface=new CSInterface,this.setContextMenu(),this.root=this.csInterface.getSystemPath(SystemPath.EXTENSION),this.appName=this.csInterface.hostEnvironment.appName,this.loadUniversalScripts(),this.csInterface.addEventListener("console",this.consoler),this.$refs.stylizer.init(),this.doneLoading(),this.$router.push({name:this.lastRoute})},methods:{getContentStyle:function(){return"\n        overflow: auto;\n        max-height: calc(100vh - 10px);\n      "},doneLoading:function(){this.isLoaded=!0,console.log("Done loading!"),this.$router.push({name:"home"}),this.$refs.stylizer.init()},setContextMenu:function(){this.csInterface.setContextMenuByJSON(this.menuString,this.contextMenuClicked)},contextMenuClicked:function(t){"refresh"==t?location.replace(this.rootLocation):"localhost"==t?cep.util.openURLInDefaultBrowser(this.localhost):"github"==t&&cep.util.openURLInDefaultBrowser(this.homepage)},loadUniversalScripts:function(){this.csInterface.evalScript("$.evalFile('".concat(this.root,"/src/host/universal/json2.jsx')")),this.csInterface.evalScript("$.evalFile('".concat(this.root,"/src/host/universal/Console.jsx')")),this.csInterface.evalScript("$.evalFile('".concat(this.root,"/src/host/").concat(this.csInterface.hostEnvironment.appName,"/host.jsx')"))},consoler:function(t){console.log("".concat(this.csInterface.hostEnvironment.appName,": ").concat(t.data))},getCSS:function(t){return window.getComputedStyle(document.documentElement).getPropertyValue("--"+t)},setCSS:function(t,e){document.documentElement.style.setProperty("--"+t,e)}}},Z=Y,tt=(n("034f"),n("7496")),et=n("549c"),nt=Object(m["a"])(Z,r,a,!1,null,null,null),ot=nt.exports;v()(nt,{VApp:tt["a"],VContent:et["a"]});var it=n("8c4f"),rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HelloWorld")},at=[],ct={components:{HelloWorld:F}},st=ct,lt=Object(m["a"])(st,rt,at,!1,null,null,null),ut=lt.exports;o["a"].use(it["a"]);var pt=new it["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ut},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});o["a"].config.productionTip=!1,new o["a"]({router:pt,render:function(t){return t(ot)}}).$mount("#app")},b633:function(t,e,n){},bea3:function(t,e,n){"use strict";var o=n("df0a"),i=n.n(o);i.a},df0a:function(t,e,n){}});
//# sourceMappingURL=app.f1ed6c43.js.map